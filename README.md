# cpp_summer_camp_code

#### 介绍
Dian summer camp

#### 日志

###### 2021-7-23

​		增加了命令行解析功能，可以获取命令行输入的action、option、parameter

​		目前存在的问题：

​				1. 创立新的action时未对其选项的参数个数进行限制

​				2. 命令行输入不同类型指令时，有些指令会出bug，有待调整

&nbsp;

###### 2021-7-24

​		修复了昨天的问题 2

&nbsp;

###### 2021-7-25

​		1. 增加了 diff 功能，因为今天有别的任务所以采取的是逐行对比简单思想，没有使用求最长公共子序列LCS算法思想来做

​		2. 具体函数定义和使用的库、宏都以静态库形式链接到主程序 git.cpp 中

​		3. 再次修复了cmdline中的某些bug，并解决了23号的问题1

&nbsp;

###### 2021-7-26

​		把 git diff 用LCS算法实现，封装在diff_LCS.h中

&nbsp;

###### 2021-7-27

​		增加了add功能

​		待改进之处：

​				1.文件的移动通过 system("command") 借助 linux 的 cp 指令实现，可以想办法改成用cpp自身实现

​				2.字符串使用数组处理，太麻烦了，有时间换成 string

&nbsp;

###### 2021-7-28

​		1. 增加了commit功能

​		2. 修正了昨天的问题1，改用逐行读写实现文件copy

&nbsp;		发现 diff 可以加入--cathe / --staged选项，比较暂存区和本地仓库多个文件的不同，有时间了加上。

&nbsp;

###### 2021-7-29

​		1.增加了rm功能

​		2. 发现功能漏洞，在cmdline中，若一个指令既可以有选项又可以没有选项时，输入无选项指令会报错，后续修正。

&nbsp;

###### 2021-7-30

​		1. 增加了mv功能

​		2. 加入了项目进度汇报

&nbsp;

###### 2021-7-31

​		1. 增加了init功能

​		2. 简单看了看git版本管理的原理，打算还是用自己的方法来实现，毕竟只是个简易版

&nbsp;

###### 2021-8-2

​		这两天按自己的思路重新架构了要实现的框架和功能，并对代码进行批量修改，还差diff、reset待修改

&nbsp;

###### 2021-8-3

​		增加了reset功能，--workdir是用暂存区覆盖工作目录，--cathe是用本地仓库覆盖暂存区

​		增加了status功能，显示工作目录下新增文件和修改文件

&nbsp;

###### 总结

​		我模仿git的基本功能按自己的想法实现了一个本地代码管理程序，其架构和git类似，由工作目录work dir、暂存区stage、本地仓库local repository组成，指令说明如下：

| 指令       | 功能                                                         |
| ---------- | ------------------------------------------------------------ |
| git init   | 用于创建一个空的git仓库，其中只包含.git文件夹<br/>.git文件夹下有：stage文件夹，意为暂存区、local文件夹，意为本地仓库 |
| git add    | 把工作目录文件全部传到.git/stage下                           |
| git commit | 把暂存区文件 + message信息文本文件作为新版本传到.git/local的一个以当前时间命名的文件夹下 |
| git rm     | 同时删除工作目录和暂存区的文件                               |
| git mv     | 同时移动或重命名工作目录和暂存区的文件                       |
| git diff   | 比较工作目录和暂存区同名文件的不同                           |
| git reset  | --workdir 用暂存区内容覆盖工作目录内容<br/>--cathe 用本地仓库内容覆盖暂存区内容（不完善） |
| git status | 提示工作目录新增加的和新修改的文件                           |

&nbsp;

&nbsp;

